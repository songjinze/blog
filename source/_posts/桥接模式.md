---
title: 桥接模式
date: 2018-11-08 23:04:29
tags: 个人经验
categories: 设计模式
---

# 桥接模式

桥接模式其实是把抽象化和实现化解耦的设计模式。简单地说，就是把抽象和实现相分离。

## 桥接模式的使用场景

1. 系统希望在构建抽象化角色和具体角色的层次之间建立更多的灵活性，换句话说，系统不希望抽象和具体实现之间是简单的静态的继承关系。
2. 实现化的角色的内部改变（对用的抽象角色不改变）对于使用者是透明的。
3. 一个构件有多于一个抽象化角色和实现化角色，系统需要他们之间进行动态耦合
4. 抽象化角色和具体化角色需要独立变化，甚至设计要求独立管理二者，简单的继承无法做到这一点。

## 实现

桥接模式的实现要根据具体的情境。  
例如现在我们有一个汽车的现实构件，这个构件其实分为很多不同的维度。一个维度来说汽车分为不同的客车、小车等，另一个维度汽车分为高速公路上行驶的汽车和在乡村小路上行驶的汽车等。从实现上来看，很多人可能第一反应是利用面向对象的方法分多维度进行抽象：
1. 首先抽象出一个父类car。
2. 再抽象出不同维度的子类来继承父类car。  
有经验的朋友会发现这么做的问题：违反了单一职责原则。我们不同维度的车，对于顶层的父类来说影响类的变化原因是不唯一的。所以我们在第二点进行了更改：  
1. 先对每个维度的子类进行抽象，直到影响这个抽象类变化的原因是唯一的。
2. 对每个抽象类分出一个实现的层。
3. 在实现层中对抽象进行实现。

## 区分桥接模式和装饰模式

这两个模式在一定程度上都是为了减少子类的数目，避免出现复杂的继承关系。但是他们解决的方法却各有不同。

### 装饰模式：

装饰模式把子类中比基类中多出来的部分放到单独的类里面，以适应新功能增加的需要，当我们把描述新功能的类封装到基类的对象里面时，就得到了所需要的子类对象，这些描述新功能的类通过组合可以实现很多的功能组合。  
所以装饰模式本质是组合的运用。

### 桥接模式：

桥接模式则是把原来的基类的实现化细节抽象出来，在构造一个实现化的结构中，然后再把原来的基类改造成一个抽象化的等级结构，这样就可以实现系统在多个维度上的独立变化。  
所以桥接模式本质是高维度类的降维处理。