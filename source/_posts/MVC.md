---
title: MVC
date: 2018-08-13 20:36:53
tags: 个人经验
categories: 设计模式
---

# MVC

最近和队友合作的时候使用了javafx的MVC架构，不禁同时联想到MVC设计模式，和队友仔细探讨了一下有关MVC的一些问题，索性记录下来。

## 编程模式和框架的区别

乍一看这个问题很好回答，编程模式（或者说设计模式）是具体的编程过程中使用的一种代码结构，通常是为了比如降低耦合、抽象这种优化服务。而框架可以理解为一种独立的软件，通常有对外可以使用的接口，我们直接使用别人写好的东西就可以使用封装好的功能。  
所以说，编程模式（设计模式）可以理解为是设计的重用，而框架则是代码的重用。
放在这里谈到区别，就是因为准确的说MVC包括MVC框架和MVC编程模式。我们再接下来详细介绍。

## MVC编程模式简介

简单地说MVC就是M（model）、V（view）、C（controller）。具体如下：
* Model，也叫模型，通常是应用的核心，比如应用的逻辑、数据库记录等等。
* View，也叫视图，其实字面意思也是实际意思，就是显示给用户看的界面。
* Controller，也叫控制器，用来控制用户和系统的交互，比如说传输数据，控制输入，读取数据等等。  

这里我们需要注意的是，在使用这种设计模式的时候，控制器（Controller）是用来控制用户和系统交互的，狭隘地说可以理解为视图（View）和模型（Model）通过控制器连接在一起。我们举一个直观的图作为例子：  

有几点需要说明：
1. 控制器不负责处理数据，可以理解为控制器区别于三层结构的逻辑层中很重要的一点。有些初学者在不理解MVC时很容易将MVC和三层结构联想到一起，这是完全错误的。如果硬要联系在一起，那么可以粗略地将三层结构的逻辑层和数据层归到模型中去，而控制器和视图实际上都是展示层。
1. 模型更新，视图**必须**更新。通常在实现的时候我们会在控制器中添加一个update方法，用来实现模型和视图的同步更新。

{% asset_img MVC类图示意.PNG MVC示意 %}

## MVC框架简介

通过以上的描述，在这里不难看出MVC框架就是强制性地将应用程序的输入、处理、输出相分隔开，用软件的方式将应用程序分为模块、视图和控制器三个部分。比如我们常用的jsp+servlet+javabean就是一个很好的例子。

# MVC特点

## 优点  

1. **低耦合**  
通过将视图和业务层分离，二者通过控制器进行交互，因此视图和业务层的耦合性大大降低。
2. **重用性高**  
视图只是显示给用户，不包含一些简单的业务逻辑。因此视图是独立的。同样，业务员逻辑不受到视图的影响，接口的设计只是因为需求，并不因为视图的设计。因此，业务逻辑可以连接多个视图，业务逻辑模块可以重用。
3. **生命周期成本低**  
因为整个框架的限定，开发和维护用户接口的技术含量大大降低，例如业务逻辑层只需要考虑业务逻辑的需求即可。
4. **开发速度快，部署快**    
前后端的分离，使得开发前端界面的人员可以专注于设计界面风格和布局，后端人员可以专注于后端开发和算法优化，大大提高了开发的速度。
5. **可维护性高**    
与开发阶段相同，前后端的维护只需要关注本层的问题，维护方便。

## 缺点

1. **效率低**  
由于视图需要频繁调用后端的接口，有时候显示一个界面需要调用多个接口（前面提到过，接口的设计不是为视图而设计），因此效率没有最大化。甚至由于这种“条条框框”而下降。
2. **增加系统复杂性，不利于中小型软件**  
小型软件视图组件和后端联系紧密，并且业务逻辑较为简单。采用MVC反倒增加了一些不必要的代码。
3. **视图和控制器间联系紧密**  
控制器起到了视图和业务逻辑之间的桥梁作用，但与此同时视图中每个组件与用户的交互响应都需要控制器来控制，因此可以说控制器和视图是无法分割的。视图的更新也是通过控制器进行，这样显得视图和控制器层之间耦合性过高。