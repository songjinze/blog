---
title: 组合模式
date: 2018-12-10 12:33:00
tags: 个人经验
categories: 设计模式
---

# 组合模式

组合模式（composite pattern）又称部分整体模式，是用于把一组相似的对象当作一个单一的对象。组合模式一句树形结构来组合对象，用来表示部分以及整体层次。这种类型的设计模式属于结构型模式，它创建了对象组的树形结构。  
这种模式创建了一个包含自己对象组的类。该类提供了修改相同对象组的方式。  
  
通俗地说，所谓组合模式就是一个对象中包含其他对象（在对象内部引用对象）。这种组合是有别于继承的。而另一层含义是指树形结构子节点的抽象，区别于普通的分别定义叶子节点与树枝节点的方式。  

## 应用

1. 想表示对象的部分-整体层次结构（树形结构）。
2. 希望用户忽略组合对象与单个对象的不同，用户将统一地使用组合结构中所有对象。  
3. 算术表达式包括操作数、操作符和另一个操作数，其中，另一个操作符也可以是操作数、操作符和另一个操作数。  
4. 在java awt和swing中，对于Button和Checkbox是树叶，Container是树枝。  

## 优缺点

### 优点

1. 高层模块调用简单
2. 节点自由增加

### 缺点

在使用组合模式时，其叶子和树枝的声明都是实现类，而不是接口，违反了依赖倒置原则。  

## 实现

{% asset_img 组合模式.PNG 组合模式 %}