---
title: 工厂模式
date: 2018-08-20 20:22:59
tags: 个人经验
categories: 设计模式
---

# 工厂模式

说到工厂模式，其实是日常生活中常用的设计模式。工厂模式还可以细分为简单工厂模式、工厂模式、抽象工厂模式，在这里我们逐个介绍。  

*注：本文章内示意图片来自互联网*

## 为什么要使用工厂模式？

>想象一下一个场景：你到车店买一辆车，你对店家说“我要看一下A牌子的车”，于是店家给了你一辆从A牌子工厂开过来的新车，并给了你一个说明书供你使用。这时如果你问店家：“给我讲讲这辆车是怎么组装出来的”，店家可能会白你一眼并说“我也不知道”之类的话。  

这实际上就是工厂模式的一个很好的例子。在这个例子里，车就是具体的业务逻辑实现，说明书是接口，工厂内组装车的方法就是实现细节，而给你车的车店老板就是“工厂”。  
因此可以看出工厂模式的目的也很明确，就是屏蔽实现细节，方便使用者通过工厂直接使用已经实现好的接口方法。  

## 简单工厂模式

其实简单工厂算不上是一个真正的设计模式，只是一个“生产某些产品”的类。比如现在要生产两种牌子的鼠标，那么我们根据OO的思想抽象出了一个鼠标父类，我们为了屏蔽内部细节并且很好地“生产”这两种牌子的鼠标，我们通过新建一个鼠标工厂并添加方法createMouse(int n),通过参数控制生产鼠标的牌子。需要鼠标方只需要通过这个工厂的createMouse方法就可以得到对应的想要的牌子的鼠标。  

{% asset_img 简单工厂.PNG 简单工厂模式 %}

## 工厂模式

工厂模式通常应用于同一类产品的抽象。还是刚才的生产两种牌子鼠标的问题，简单工厂模式的做法是直接用一个有参数的方法去实现，但是有经验的朋友会很容易想到，这样的做法可修改性是很低的，而且抽象程度也不高。因此在这里，真正称得上是设计模式是工厂模式。  
在这个例子中，将工厂抽象出带有公共方法的类，实现两个不同牌子的工厂分别对应不同的鼠标。这样提高了修改性，同时也方便了拓展。  

{% asset_img 工厂.PNG 工厂模式 %}

## 抽象工厂模式

工厂模式中对于一类产品的抽象，通过工厂的方式来达到屏蔽实现细节。而对于不同类的多种产品，一种类型的工厂显然是不够的，因此对于工厂中相同的部分可以进行进一步的抽象，以达到对于新建的工厂类而言仍然满足OO的优点以及依赖倒置原则。  

{% asset_img 抽象工厂.PNG 抽象工厂模式 %}